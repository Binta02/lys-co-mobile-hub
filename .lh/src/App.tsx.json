{
    "sourceFile": "src/App.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1748535879312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751282522001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,8 +37,10 @@\n import { loadStripe } from \"@stripe/stripe-js\";\r\n import { FloatingCartButton } from \"@/components/cart/FloatingCartButton\";\r\n import { supabase } from \"@/integrations/supabase/client\";\r\n import { Session } from \"@supabase/supabase-js\";\r\n+import ReactiverMonCompte from \"./pages/reactiver-mon-compte\"; // ⚠️ à adapter selon l’emplacement du fichier\r\n+\r\n const stripePromise = loadStripe(import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY);\r\n // console.log(\"Stripe public key loaded:\", import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY);\r\n // console.log(\"ENV variables:\", import.meta.env);\r\n \r\n@@ -123,8 +125,9 @@\n         <Route\r\n           path=\"/communication/media-training\"\r\n           element={<CommunicationMediaTraining />}\r\n         />\r\n+        <Route path=\"/reactiver-mon-compte\" element={<ReactiverMonCompte />} />\r\n         <Route path=\"/communication/packs\" element={<CommunicationPacks />} />\r\n         <Route path=\"/services/:id\" element={<ServiceDetail />} />\r\n         <Route path=\"/confirmation\" element={<Confirmation />} />\r\n         <Route path=\"/demande-devis\" element={<DemandeDevis />} />\r\n"
                }
            ],
            "date": 1748535879312,
            "name": "Commit-0",
            "content": "// app.tsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport Index from './pages/Index';\r\nimport Domiciliation from './pages/Domiciliation';\r\nimport ServicesAdmin from './pages/ServicesAdmin';\r\nimport ServicesComplementaires from './pages/ServicesComplementaires';\r\nimport EspacesTravail from './pages/EspacesTravail';\r\nimport Tarifs from './pages/Tarifs';\r\nimport Contact from './pages/Contact';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport ResetPassword from './pages/ResetPassword';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Communication from './pages/Communication';\r\nimport CommunicationStrategie from './pages/CommunicationStrategie';\r\nimport CommunicationSiteInternet from './pages/CommunicationSiteInternet';\r\nimport CommunicationPrint from './pages/CommunicationPrint';\r\nimport CommunicationPhotos from './pages/CommunicationPhotos';\r\nimport CommunicationCreations from './pages/CommunicationCreations';\r\nimport CommunicationCommunityManagement from './pages/CommunicationCommunityManagement';\r\nimport CommunicationMediaTraining from './pages/CommunicationMediaTraining';\r\nimport CommunicationPacks from './pages/CommunicationPacks';\r\nimport ServiceDetail from './pages/ServiceDetail';\r\nimport Checkout from './pages/Checkout';\r\nimport Confirmation from './pages/Confirmation';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport NotFound from './pages/NotFound';\r\nimport DemandeDevis from './pages/DemandeDevis';\r\nimport Domiciliation1AnEntreprise from './pages/domiciliation/Domiciliation1AnEntreprise';\r\nimport Domiciliation6MoisEntreprise from './pages/domiciliation/Domiciliation6MoisEntreprise';\r\nimport Domiciliation3MoisEntreprise from './pages/domiciliation/Domiciliation3MoisEntreprise';\r\nimport Domiciliation6MoisMicroEntreprise from './pages/domiciliation/Domiciliation6MoisMicroEntreprise';\r\nimport Domiciliation3MoisMicroEntreprise from './pages/domiciliation/Domiciliation3MoisMicroEntreprise';\r\nimport PackDomicilie from './pages/domiciliation/PackDomicilie';\r\nimport { Elements } from '@stripe/react-stripe-js'\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { FloatingCartButton } from '@/components/cart/FloatingCartButton';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { Session } from '@supabase/supabase-js';\r\nconst stripePromise = loadStripe(import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY);\r\n// console.log(\"Stripe public key loaded:\", import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY);\r\n// console.log(\"ENV variables:\", import.meta.env);\r\n\r\nfunction App() {\r\n  const [session, setSession] = useState<Session | null>(null);\r\n\r\n  useEffect(() => {\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      (_event, session) => setSession(session)\r\n    );\r\n\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Index />} />\r\n        <Route path=\"/domiciliation\" element={<Domiciliation />} />\r\n        <Route path=\"/domiciliation/1-an-entreprise\" element={<Domiciliation1AnEntreprise />} />\r\n        <Route path=\"/domiciliation/6-mois-entreprise\" element={<Domiciliation6MoisEntreprise />} />\r\n        <Route path=\"/domiciliation/3-mois-entreprise\" element={<Domiciliation3MoisEntreprise />} />\r\n        <Route path=\"/domiciliation/6-mois-micro-entreprise\" element={<Domiciliation6MoisMicroEntreprise />} />\r\n        <Route path=\"/domiciliation/3-mois-micro-entreprise\" element={<Domiciliation3MoisMicroEntreprise />} />\r\n        <Route path=\"/domiciliation/pack-domicilie\" element={<PackDomicilie />} />\r\n        <Route path=\"/services-admin\" element={<ServicesAdmin />} />\r\n        <Route path=\"/services-complementaires\" element={<ServicesComplementaires />} />\r\n        <Route path=\"/espaces-travail\" element={<EspacesTravail />} />\r\n        <Route path=\"/tarifs\" element={<Tarifs />} />\r\n        <Route path=\"/contact\" element={<Contact />} />\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/register\" element={<Register />} />\r\n        <Route path=\"/reset-password\" element={<ResetPassword />} />\r\n        <Route path=\"/dashboard\" element={<Dashboard />} />\r\n        <Route path=\"/dashboard/*\" element={<Dashboard />} />\r\n        <Route path=\"/communication\" element={<Communication />} />\r\n        <Route path=\"/communication/strategie\" element={<CommunicationStrategie />} />\r\n        <Route path=\"/communication/site-internet\" element={<CommunicationSiteInternet />} />\r\n        <Route path=\"/communication/print\" element={<CommunicationPrint />} />\r\n        <Route path=\"/communication/photos\" element={<CommunicationPhotos />} />\r\n        <Route path=\"/communication/creations\" element={<CommunicationCreations />} />\r\n        <Route path=\"/communication/community-management\" element={<CommunicationCommunityManagement />} />\r\n        <Route path=\"/communication/media-training\" element={<CommunicationMediaTraining />} />\r\n        <Route path=\"/communication/packs\" element={<CommunicationPacks />} />\r\n        <Route path=\"/services/:id\" element={<ServiceDetail />} />\r\n        <Route path=\"/confirmation\" element={<Confirmation />} />\r\n        <Route path=\"/demande-devis\" element={<DemandeDevis />} />\r\n        <Route\r\n        path=\"/checkout\"\r\n        element={\r\n          <PrivateRoute>\r\n            <Elements stripe={stripePromise}>\r\n              <Checkout />\r\n            </Elements>\r\n          </PrivateRoute>\r\n        }\r\n      />\r\n        <Route path=\"*\" element={<NotFound />} />\r\n\r\n      </Routes>\r\n      {/* Render FloatingCartButton if needed */}\r\n      {session && <FloatingCartButton />}\r\n    \r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"
        }
    ]
}