{
    "sourceFile": "src/components/MobileMenu.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1748470329433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1748470329433,
            "name": "Commit-0",
            "content": "\r\nimport React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Button } from '@/components/ui/button';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { toast } from '@/components/ui/sonner';\r\nimport { Session } from '@supabase/supabase-js';\r\nimport { CartDrawer } from \"@/components/cart/CartDrawer\";\r\n\r\ninterface MobileMenuProps {\r\n  onClose: () => void;\r\n  session: Session | null;\r\n}\r\n\r\nconst MobileMenu: React.FC<MobileMenuProps> = ({\r\n  onClose,\r\n  session\r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) {\r\n        toast.error('Erreur lors de la dÃ©connexion', {\r\n          description: error.message\r\n        });\r\n        return;\r\n      }\r\n      toast.success('DÃ©connexion rÃ©ussie');\r\n      navigate('/login');\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      toast.error('Une erreur inattendue est survenue');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"md:hidden fixed inset-0 z-50 bg-white animate-fade-in\">\r\n      <div className=\"container mx-auto px-4 py-6 flex flex-col space-y-6 bg-white\">\r\n        {/* Bouton de fermeture */}\r\n      <button\r\n        onClick={onClose}\r\n        className=\"absolute top-4 right-4 z-50 p-2 rounded-full hover:bg-gray-100 focus:outline-none\"\r\n        aria-label=\"Fermer le menu\"\r\n      >\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-x text-black\">\r\n          <path d=\"M18 6 6 18\"></path>\r\n          <path d=\"m6 6 12 12\"></path>\r\n        </svg>\r\n      </button>\r\n        <Link to=\"/\" className=\"text-lg font-medium text-gray-700 hover:text-lysco-turquoise py-2\" onClick={onClose}>\r\n          Accueil\r\n        </Link>\r\n        <Link to=\"/domiciliation\" className=\"text-lg font-medium text-gray-700 hover:text-lysco-turquoise py-2\" onClick={onClose}>\r\n          Domiciliation\r\n        </Link>\r\n        <Link to=\"/services-admin\" className=\"text-lg font-medium text-gray-700 hover:text-lysco-turquoise py-2\" onClick={onClose}>\r\n          Services Admin\r\n        </Link>\r\n        <Link to=\"/communication\" className=\"text-lg font-medium text-gray-700 hover:text-lysco-turquoise py-2\" onClick={onClose}>\r\n          Communication\r\n        </Link>\r\n        <Link to=\"/contact\" className=\"text-lg font-medium text-gray-700 hover:text-lysco-turquoise py-2\" onClick={onClose}>\r\n          Contact\r\n        </Link>\r\n        {/* <CartDrawer /> ðŸ‘‰ Ajout du panier ici */}\r\n        <div className=\"flex flex-col space-y-3 pt-4\">\r\n          {session ? (\r\n            <>\r\n              <Link to=\"/dashboard\" onClick={onClose}>\r\n                <Button variant=\"outline\" className=\"w-full border-lysco-turquoise text-lysco-turquoise hover:bg-lysco-turquoise hover:text-white\">\r\n                  Dashboard\r\n                </Button>\r\n              </Link>\r\n              <Button \r\n                variant=\"ghost\" \r\n                onClick={handleLogout}\r\n                className=\"w-full text-gray-700 hover:text-lysco-turquoise\"\r\n              >\r\n                DÃ©connexion\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Link to=\"/login\" onClick={onClose}>\r\n              <Button variant=\"outline\" className=\"w-full border-lysco-turquoise text-lysco-turquoise hover:bg-lysco-turquoise hover:text-white\">\r\n                Connexion\r\n              </Button>\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MobileMenu;\r\n"
        }
    ]
}